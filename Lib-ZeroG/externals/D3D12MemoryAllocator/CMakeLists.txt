set(INCLUDE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/include)
set(SRC_DIR ${CMAKE_CURRENT_SOURCE_DIR}/src)

if (MSVC)
	string(REPLACE "/W4" "" TMP1 ${CMAKE_CXX_FLAGS})
	set(CMAKE_CXX_FLAGS "${TMP1} /W0")
endif()

set(INCLUDE_FILES
	${INCLUDE_DIR}/D3D12MemAlloc.h
)
set(SRC_FILES
	${SRC_DIR}/D3D12MemAlloc.cpp
)

add_library(D3D12MemAlloc ${INCLUDE_FILES} ${SRC_FILES})

target_include_directories(D3D12MemAlloc PUBLIC ${INCLUDE_DIR})

set(D3D12_MEMORY_ALLOCATOR_FOUND true PARENT_SCOPE)
set(D3D12_MEMORY_ALLOCATOR_INCLUDE_DIRS ${INCLUDE_DIR} PARENT_SCOPE)
set(D3D12_MEMORY_ALLOCATOR_LIBRARIES D3D12MemAlloc PARENT_SCOPE)

