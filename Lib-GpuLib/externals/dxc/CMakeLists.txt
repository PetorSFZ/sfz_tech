cmake_minimum_required(VERSION 3.9 FATAL_ERROR)

if(WIN32)
	set(INCLUDE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/include)

	find_library(DXC_LIB
		NAMES
		dxcompiler
		HINTS
		${CMAKE_CURRENT_SOURCE_DIR}/lib/x64)

	set(DLLs
		${CMAKE_CURRENT_SOURCE_DIR}/lib/x64/dxcompiler.dll
		${CMAKE_CURRENT_SOURCE_DIR}/lib/x64/dxil.dll
		${CMAKE_CURRENT_SOURCE_DIR}/lib/x64/dxc.exe)

	set(DXC_FOUND true PARENT_SCOPE)
	set(DXC_INCLUDE_DIRS ${INCLUDE_DIR} PARENT_SCOPE)
	set(DXC_LIBRARIES ${DXC_LIB} PARENT_SCOPE)
	set(DXC_RUNTIME_FILES ${DLLs} PARENT_SCOPE)
else()
	set(DXC_FOUND false PARENT_SCOPE)
	set(DXC_INCLUDE_DIRS "" PARENT_SCOPE)
	set(DXC_LIBRARIES "" PARENT_SCOPE)
	set(DXC_RUNTIME_FILES "" PARENT_SCOPE)
endif()
