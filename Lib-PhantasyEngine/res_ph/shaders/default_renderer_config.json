{
	"render_pipelines": [
		{
			"name": "GBuffer Generation",
			"source_type": "hlsl",
			"vertex_shader_path": "res_ph/shaders/gbuffer_gen.hlsl",
			"pixel_shader_path": "res_ph/shaders/gbuffer_gen.hlsl",
			"vertex_shader_entry": "VSMain",
			"pixel_shader_entry": "PSMain",
			"standard_vertex_attributes": true,
			"push_constant_registers": [ 0, 1, 2 ],
			"depth_func": "GREATER",
			"culling": {
				"cull_front_face": false,
				"front_facing_is_counter_clockwise": true
			},
			"wireframe_rendering": false,
			"samplers": [
				{
					"register": 0,
					"sampling_mode": "ANISOTROPIC",
					"wrapping_mode": "REPEAT"
				}
			],
			"render_targets": [
				"RGBA_U8_UNORM",
				"RG_U8_UNORM",
				"RGBA_U8_UNORM",
				"RGBA_F16"
			],
			"non_user_settable_constant_buffers": [
				3
			]
		},
		{
			"name": "Shadow Map Generation",
			"source_type": "hlsl",
			"vertex_shader_path": "res_ph/shaders/shadow_map_gen.hlsl",
			"pixel_shader_path": "res_ph/shaders/shadow_map_gen.hlsl",
			"vertex_shader_entry": "VSMain",
			"pixel_shader_entry": "PSMain",
			"standard_vertex_attributes": true,
			"push_constant_registers": [ 0, 1 ],
			"depth_func": "GREATER",
			"culling": {
				"cull_front_face": false,
				"front_facing_is_counter_clockwise": true
			},
			"depth_bias": {
				"bias": -2500,
				"bias_slope_scaled": -4.0,
				"bias_clamp": 0.0
			},
			"wireframe_rendering": false,
			"render_targets": [
			]
		},
		{
			"name": "Directional Shading",
			"source_type": "hlsl",
			"vertex_shader_path": "res_ph/shaders/directional_shading.hlsl",
			"pixel_shader_path": "res_ph/shaders/directional_shading.hlsl",
			"vertex_shader_entry": "VSMain",
			"pixel_shader_entry": "PSMain",
			"standard_vertex_attributes": true,
			"push_constant_registers": [ 0 ],
			"culling": {
				"cull_front_face": false,
				"front_facing_is_counter_clockwise": true
			},
			"wireframe_rendering": false,
			"samplers": [
				{
					"register": 0,
					"sampling_mode": "NEAREST",
					"wrapping_mode": "CLAMP"
				},
				{
					"register": 1,
					"sampling_mode": "TRILINEAR",
					"wrapping_mode": "CLAMP"
				}
			],
			"render_targets": [
				"RGBA_F16"
			]
		},
		{
			"name": "Point Light Shading",
			"source_type": "hlsl",
			"vertex_shader_path": "res_ph/shaders/point_light_shading.hlsl",
			"pixel_shader_path": "res_ph/shaders/point_light_shading.hlsl",
			"vertex_shader_entry": "VSMain",
			"pixel_shader_entry": "PSMain",
			"standard_vertex_attributes": true,
			"push_constant_registers": [ 0 ],
			"culling": {
				"cull_front_face": false,
				"front_facing_is_counter_clockwise": true
			},
			"wireframe_rendering": false,
			"blend_mode": "additive_blending",
			"samplers": [
				{
					"register": 0,
					"sampling_mode": "NEAREST",
					"wrapping_mode": "CLAMP"
				},
				{
					"register": 1,
					"sampling_mode": "TRILINEAR",
					"wrapping_mode": "CLAMP"
				}
			],
			"render_targets": [
				"RGBA_F16"
			]
		},
		{
			"name": "Copy Out Shader",
			"source_type": "hlsl",
			"vertex_shader_path": "res_ph/shaders/copy_out_shader.hlsl",
			"pixel_shader_path": "res_ph/shaders/copy_out_shader.hlsl",
			"vertex_shader_entry": "VSMain",
			"pixel_shader_entry": "PSMain",
			"standard_vertex_attributes": true,
			"push_constant_registers": [ 0 ],
			"culling": {
				"cull_front_face": false,
				"front_facing_is_counter_clockwise": true
			},
			"wireframe_rendering": false,
			"samplers": [
				{
					"register": 0,
					"sampling_mode": "TRILINEAR",
					"wrapping_mode": "CLAMP"
				}
			],
			"render_targets": [
				"RGBA_U8_UNORM"
			]
		}
	],
	"static_textures": [
		{
			"name": "GBuffer_albedo",
			"format": "RGBA_U8_UNORM",
			"clear_value": 0.0,
			"resolution_scale": 1.0,
			"resolution_scale_setting": "internalResolutionScale"
		},
		{
			"name": "GBuffer_metallic_roughness",
			"format": "RGBA_U8_UNORM",
			"clear_value": 0.0,
			"resolution_scale": 1.0,
			"resolution_scale_setting": "internalResolutionScale"
		},
		{
			"name": "GBuffer_emissive",
			"format": "RGBA_U8_UNORM",
			"clear_value": 0.0,
			"resolution_scale": 1.0,
			"resolution_scale_setting": "internalResolutionScale"
		},
		{
			"name": "GBuffer_normal",
			"format": "RGBA_F16",
			"clear_value": 0.0,
			"resolution_scale": 1.0,
			"resolution_scale_setting": "internalResolutionScale"
		},
		{
			"name": "GBuffer_depthbuffer",
			"format": "DEPTH_F32",
			"clear_value": 0.0,
			"resolution_scale": 1.0,
			"resolution_scale_setting": "internalResolutionScale"
		},
		{
			"name": "LightAccumulation1",
			"format": "RGBA_F16",
			"clear_value": 0.0,
			"resolution_scale": 1.0,
			"resolution_scale_setting": "internalResolutionScale"
		},
		{
			"name": "ShadowMapCascaded1",
			"format": "DEPTH_F32",
			"clear_value": 0.0,
			"resolution_fixed_width": 2048,
			"resolution_fixed_height": 2048
		},
		{
			"name": "ShadowMapCascaded2",
			"format": "DEPTH_F32",
			"clear_value": 0.0,
			"resolution_fixed_width": 2048,
			"resolution_fixed_height": 2048
		},
		{
			"name": "ShadowMapCascaded3",
			"format": "DEPTH_F32",
			"clear_value": 0.0,
			"resolution_fixed_width": 1024,
			"resolution_fixed_height": 1024
		}
	],
	"present_queue": [
		{
			"group_name": "GBuffer + Cascaded Shadows",
			"stages": [
				{
					"stage_name": "GBuffer Pass",
					"stage_type": "USER_INPUT_RENDERING",
					"render_pipeline": "GBuffer Generation",
					"render_targets": [
						"GBuffer_albedo",
						"GBuffer_metallic_roughness",
						"GBuffer_emissive",
						"GBuffer_normal"
					],
					"depth_buffer": "GBuffer_depthbuffer"
				},
				{
					"stage_name": "Directional Shadow Map Pass 1",
					"stage_type": "USER_INPUT_RENDERING",
					"render_pipeline": "Shadow Map Generation",
					"depth_buffer": "ShadowMapCascaded1"
				},
				{
					"stage_name": "Directional Shadow Map Pass 2",
					"stage_type": "USER_INPUT_RENDERING",
					"render_pipeline": "Shadow Map Generation",
					"depth_buffer": "ShadowMapCascaded2"
				},
				{
					"stage_name": "Directional Shadow Map Pass 3",
					"stage_type": "USER_INPUT_RENDERING",
					"render_pipeline": "Shadow Map Generation",
					"depth_buffer": "ShadowMapCascaded3"
				}
			]
		},
		{
			"group_name": "Shading",
			"stages": [
				{
					"stage_name": "Directional Shading Pass",
					"stage_type": "USER_INPUT_RENDERING",
					"render_pipeline": "Directional Shading",
					"render_targets": [
						"LightAccumulation1"
					],
					"bound_textures": [
						{
							"register": 0,
							"texture": "GBuffer_albedo"
						},
						{
							"register": 1,
							"texture": "GBuffer_metallic_roughness"
						},
						{
							"register": 2,
							"texture": "GBuffer_emissive"
						},
						{
							"register": 3,
							"texture": "GBuffer_normal"
						},
						{
							"register": 4,
							"texture": "GBuffer_depthbuffer"
						},
						{
							"register": 5,
							"texture": "ShadowMapCascaded1"
						},
						{
							"register": 6,
							"texture": "ShadowMapCascaded2"
						},
						{
							"register": 7,
							"texture": "ShadowMapCascaded3"
						}
					]
				},
				{
					"stage_name": "Point Light Shading Pass",
					"stage_type": "USER_INPUT_RENDERING",
					"render_pipeline": "Point Light Shading",
					"render_targets": [
						"LightAccumulation1"
					],
					"bound_textures": [
						{
							"register": 0,
							"texture": "GBuffer_albedo"
						},
						{
							"register": 1,
							"texture": "GBuffer_metallic_roughness"
						},
						{
							"register": 2,
							"texture": "GBuffer_normal"
						},
						{
							"register": 3,
							"texture": "GBuffer_depthbuffer"
						}
					]
				}
			]
		},
		{
			"group_name": "Copy Out",
			"stages": [
				{
					"stage_name": "Copy Out Pass",
					"stage_type": "USER_INPUT_RENDERING",
					"render_pipeline": "Copy Out Shader",
					"render_targets": [
						"default"
					],
					"depth_buffer": "default",
					"bound_textures": [
						{
							"register": 0,
							"texture": "LightAccumulation1"
						}
					]
				}
			]
		}
	]
}
